databaseChangeLog:
  - changeSet:
      id: 1
      author: postgres
      changes:
        - sql:
            sql: |
              CREATE TABLE project_designer.project (
                  id INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY NOT NULL,
                  date_create TIMESTAMP NOT NULL DEFAULT NOW(),
                  date_completed TIMESTAMP, 
                  patient TEXT NOT NULL,
                  comment TEXT,  -- Комментарий, может быть NULL
                  customer_id INT REFERENCES project_designer.customer(id) ON DELETE SET NULL, 
                  type_of_antagonist VARCHAR(50) CHECK (type_of_antagonist IN ('TYPE1', 'TYPE2', 'TYPE3')),  
                  status VARCHAR(20) CHECK (status IN ('NEW', 'IN_PROGRESS', 'COMPLETED', 'CANCELLED')),  
                  is_deleted BOOLEAN NOT NULL DEFAULT FALSE,
                  teeth_color VARCHAR(20) CHECK (teeth_color IN ('WHITE', 'YELLOW', 'GRAY')),  
                  technician_id INT REFERENCES project_designer.technician(id) ON DELETE SET NULL 
              );
